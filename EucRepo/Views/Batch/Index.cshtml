@model EucRepo.ModelsView.BatchListViewModel;
@{
    /**/
    ViewData["Title"] = "Collection Manager";
}
<h2>@ViewData["Title"] </h2>
<table class="table table-striped table-bordered table-hover table-sm">
    <thead class="table-primary">
    <tr>
        <th>Name</th>
        <th>Description</th>
        <th>Type</th>
        <th>Visible with link</th>
        <th>Created</th>
        <th>Members</th>
    </tr>
    </thead>
    @foreach (var item in @Model.ReportBatches!)
    {
        <tr>

            <td><a asp-action="View" asp-route-id="@item.Id" asp-controller="Batch">@item.Name</a>
            @if (item.CanEdit(User.Identity?.Name))
            {
                <text>(<a asp-action="Manage" asp-route-id="@item.Id" asp-controller="Batch">Edit</a>)</text>
            }
                </td>
            <td>@item.Description</td>
            <td>@item.BatchTarget</td>
            <td>@item.IsVisibleWithLink</td>
            <td>@item.Created</td>
            <td>@item.Members.Count</td>

        </tr>
    }
</table>

<p>Create a <a asp-action="Manage" asp-route-id="new">new collection</a></p>